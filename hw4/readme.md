# 操作系统 作业 4

宋婉婷 2022K8009929009

## **4.1** 

现有 5 个作业要在一台计算机上依次执行，它们的运行时间分别是 2，6，9，11 和 X。请问：1）该以何种顺序运行这 5 个作业，从而可以获得最短的平均响应时间？2）如果要获得最短的平均周转时间，该以何种顺序运行这 5 个作业？

**答：** 假设这五个作业同时到达，为获得最短的平均响应时间和平均周转时间，使用最短时间优先算法，对 X 取值分类讨论：

1. $X \leq 3$​

   程序执行顺序为 X--2--6--9--11，平均响应时间 $\frac{0+X+X+2+X+8+X+17}{5}=\frac{4X+27}{5}$，平均周转时间 $\frac{X+X+2+X+8+X+17+X+28}{5}=\frac{5X+55}{5}=X+11$

2. $2 \leq X \lt 6$​

   程序执行顺序为 2--X--6--9--11，平均响应时间 $\frac{0+2+X+2+X+8+X+17}{5}=\frac{3X+29}{5}$，平均周转时间 $\frac{2+X+2+X+8+X+17+X+28}{5}=\frac{4X+53}{5}$

3. $6 \leq X \lt 9$

   程序执行顺序为 2--6--X--9--11，平均响应时间 $\frac{0+2+8+X+8+X+17}{5}=\frac{2X+35}{5}$，平均周转时间 $\frac{2+8+X+8+X+17+X+28}{5}=\frac{3X+63}{5}$

4. $9 \leq X \lt 11$

   程序执行顺序为 2--6--9--X--11，平均响应时间 $\frac{0+2+8+17+X+17}{5}=\frac{X+44}{5}$，平均周转时间 $\frac{2+8+17+X+17+X+28}{5}=\frac{2X+72}{5}$

5. $X \geq 11$

   程序执行顺序为 2--6--9--11--X，平均响应时间 $\frac{0+2+8+17+28}{5}=\frac{55}{5}=11$，平均周转时间 $\frac{2+8+17+28+X+28}{5}=\frac{X+83}{5}$



## **4.2**

现有 5 个作业（作业 A、B、C、D、E）要在一台计算机上执行。假设它们在同一时间被提交，同时它们的运行时间分别是 10、8、4、12 和 15 分钟。当使用以下 CPU 调度算法运行这 5 个作业时，请计算平均等待时间。

（1）Round robin 算法 (使用该算法时，每个作业分到的 CPU 时间片相等)

（2）优先级调度算法（作业 A-E 的优先级分别是：2,5,1,3,4，其中 5 是最高优先级，1 是最低优先级）

（3）先到先服务算法 (假设作业的达到顺序是 A，B，C，D，E)

（4）最短时间优先算法

注意：假设作业切换可以瞬时完成，即开销为 0。

**答：**

1. Round robin 算法

   假设单位时间片为 1 分钟，执行顺序为：

   ```
   	A	B	C	D	E
   1	1	2	3	4	5
   2	6	7	8	9	10
   3	11	12	13	14	15
   4	16	17	18*	19	20
   5	21	22		23	24
   6	25	26		27	28
   7	29	30		31	32
   8	33	34*		35	36
   9	37			38	39
   10	40*			41	42
   11				43	44
   12				45*	46
   13					47
   14					48
   15					49*
   ```

   |           | $A$  | $B$  | $C$  | $D$  | $E$  | avg  |
   | :-------- | ---- | ---- | ---- | ---- | ---- | ---- |
   | wait time | 30   | 26   | 14   | 33   | 34   | 27.4 |

2. 优先级调度算法

   优先级为 2 5 1 3 4，则执行顺序 C--A--D--E--B

   |           | $A$  | $B$  | $C$  | $D$  | $E$  | avg  |
   | :-------- | ---- | ---- | ---- | ---- | ---- | ---- |
   | wait time | 4    | 41   | 0    | 14   | 26   | 17   |

3. 先到先服务算法

   假设到达顺序 A,B,C,D,E，则执行顺序 A--B--C--D--E

   |           | $A$  | $B$  | $C$  | $D$  | $E$  | avg  |
   | :-------- | ---- | ---- | ---- | ---- | ---- | ---- |
   | wait time | 0    | 10   | 18   | 22   | 34   | 16.8 |

4. 最短时间优先算法

   执行顺序 C--B--A--D--E

   |           | $A$  | $B$  | $C$  | $D$  | $E$  | avg  |
   | :-------- | ---- | ---- | ---- | ---- | ---- | ---- |
   | wait time | 12   | 4    | 0    | 22   | 34   | 14.4 |



## **4.3** 

现有一个实时计算机系统，该系统需要处理两个控制任务，每个任务每 20 毫秒运行一次，每次运行占用 5 毫秒的 CPU 时间。此外，该系统还要处理一个每秒 24 帧的视频，其中，每帧需要 20 毫秒的 CPU 时间进行处理。请分析这个实时系统是否可调度？请写出分析过程。如果某个用户想在该系统上处理一个每秒 60 帧的新视频（每帧同样需要 20 毫秒的 CPU 时间），请问能否在该系统上处理新视频？

**答：** $1s=1000ms$

1）在 1s 内，两个控制任务各发生 $1000/20=50$ 次，视频帧处理发生 24 次，总共需要 cpu 时间：

$$\sum{T_i}=5\times50\times2+24\times20=980<1000$$​

因此这个作业是可以调度的

2）因为 $60\times20=1200>1000$，因此不能再该系统上处理新视频

